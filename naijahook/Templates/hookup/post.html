{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>

    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href={% static "https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet" %}>

    <title>Post</title>

    <!-- Bootstrap core CSS -->
    <meta name="eroads_" content="e184588418ebe3c5129b257799826f1b" />
    <link href={% static "bootstrap/css/bootstrap.min.css" %} rel="stylesheet" >
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FJLTRQDKL7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-FJLTRQDKL7');
    </script>
    <link rel="shortcut icon" href="{% static 'images/logo.webp' %}" />


    <!-- Additional CSS Files -->
    <link rel="stylesheet" href={% static "css/fontawesome.css" %}>
    <link rel="stylesheet" href={% static "css/templatemo-sixteen.css" %}>
    <link rel="stylesheet" href={% static "css/owl.css" %}>
    <link rel="stylesheet" href={% static "css/new.css" %}>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link href="{% static 'fontawesomefree/css/fontawesome.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/brands.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/solid.css' %}" rel="stylesheet" type="text/css">
    <link href="{% static 'fontawesomefree/css/all.min.css' %}" rel="stylesheet" type="text/css">

  </head>
  <style>
    #id_services {
      display: flex;
      flex-direction: column;
      flex-wrap: wrap;
  }

  /* Style for each checkbox */
  #id_services {
      flex-basis: 20%; /* Each item takes up 20% of the container width */
      padding: 5px;
      box-sizing: border-box;
  }
  #preview-container {
    margin-bottom: 10px;
  }
  #preview-container img {
    max-width: 100%;
    max-height: 100px;
    margin-bottom: 5px;
  }
  .progress {
    height: 10px;
    margin-bottom: 10px;
  }
  .progress-bar {
    transition: width 0.3s ease-in-out;
  }
  
  #loading-bar-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background-color: #f3f3f3;
    z-index: 1000;
  }

  #loading-bar {
      width: 0;
      height: 100%;
      background-color: #3498db;
      animation: load 2s linear infinite;
  }

  @keyframes load {
      0% { width: 0; }
      100% { width: 100%; }
  }
  </style>
  

  <body>

    <header class="">
      <nav class="navbar navbar-expand-lg">
        <div class="container">
          <a class="navbar-brand" href="{%url "home"%}"><h2>African <em>Hook</em></h2></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item active">
                <a class="nav-link" href={%url "home"%}>Home<i class="fa fa-home"></i>
                  <span class="sr-only">(current)</span>
                </a>
              </li> 
              <li class="nav-item">
                <a class="nav-link" href={%url "videos"%}>Videos
                </a>
              </li>
              <li class="nav-item">
                <button onclick="document.getElementById('id01').style.display='block'">Post Ads</button>
                <div class="w3-container">
                  
                  <div id="id01" class="w3-modal">
                    <div class="w3-modal-content">
                      <div class="w3-container">
                        <span onclick="document.getElementById('id01').style.display='none'" class="w3-button">&times;</span>
                        <a href="{%url "post" %}">
                          <img src="{% static 'images/picon.webp' %}" alt="">
                          Post Picture
                        </a>
                        <a href="{%url "postvideo" %}">
                          <img src="{% static 'images/vicon.png' %}" alt="">
                          Post Video
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="">About Us</a>
              </li>
            {% if user.is_authenticated %}
              <li class="nav-item">
                <a class="nav-link" href="/useraccount">My Account<i class="fa fa-user"></i></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/signout">Logout<i class="fa fa-out"></i></a>
              </li>
             {% else%}
             <li class="nav-item">
              <a class="nav-link" href="/signin">Login<i class="fa fa-out"></i></a>
            </li>
            {% endif%}
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <br>
    <br>
    <br>

    <!-- ***** Preloader Start ***** -->
    <div id="preloader">
        <div class="jumper">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>  
    <br>
    <!-- ***** Preloader End ***** -->

    <!-- Header -->
    <h5>Post Picture Ads</h5>
     <div class="form-group" 
     style="
      padding: 14px;
     "
     >
     <div id="loading-bar-container" style="display: none;">
      <div id="loading-bar"></div>
     </div>
      <form id="post" action="" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <h5>Display Name </h5>
         {{form.name}}
         <h5> Bio </h5>
         {{form.bio}}
         <h5> Email </h5>
         {{form.email}}
         <h5> Number </h5>
         {{form.number}}
         <h5> Whatsapp </h5>
         {{form.whatsapp}}
         <h5> Telegram </h5>
         {{form.telegram}}
         <h5> State </h5>
         {{form.State}}
         <h5> Shot Time </h5>
         {{form.shot_time}}
         <h5> Full Night </h5>
         {{form.full_night}}
        <h5> Main </h5>
         {{form.main}}
        <div id="preview-container">
          <img id="mainpreview" src="#" alt="Image Preview">
        </div>
        
        <h5> Picture1 </h5>
        {{form.picture1}}
        <div id="preview-container">
          <img id="preview1" src="#" alt="Image Preview">
        </div>
        
        <h5> Picture2 </h5>
        {{form.picture2}}
        <div id="preview-container">
          <img id="preview2" src="#" alt="Image Preview">
        </div>
        
        <h5> Picture3 </h5>
        {{form.picture3}}
        <div id="preview-container">
          <img id="preview3" src="#" alt="Image Preview">
        </div>
        <h5>Services</h5>
        {{form.services}}
          <button class="btn btn-primary btn-lg btn-block"
          style="
           padding: 14px;
           max-width: 600px;
            "
          type="submit">Post Ads</button>
      </form>
     </div>
  



  <footer>
     <div class="container">
       <div class="row">
         <div class="col-md-12">
          <div class="inner-content">
            <p>Copyright &copy; 2024 Africanhook.com</p>
          </div>
        </div>
      </div>
     </div>
  </footer>


    <!-- Bootstrap core JavaScript -->
    <script src={% static "jquery/jquery.min.js"%}></script>
    <script src={% static "bootstrap/js/bootstrap.bundle.min.js" %}></script>


    <!-- Additional Scripts -->
    <script src= {% static "js/custom.js"%}></script>
    <script src={% static "js/owl.js"%}></script>
    <script src={%  static "js/slick.js" %}></script>
    <script src={%  static "js/isotope.js" %}></script>
    <script src={% static "js/accordions.js" %}></script>


    <script language = "text/Javascript"> 
      cleared[0] = cleared[1] = cleared[2] = 0; //set a cleared flag for each field
      function clearField(t){                   //declaring the array outside of the
      if(! cleared[t.id]){                      // function makes it static and global
          cleared[t.id] = 1;  // you could use true and false, but that's more typing
          t.value='';         // with more chance of typos
          t.style.color='#fff';
          }
      }
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const numFiles = 4; // Number of file inputs
        const previews = [];
        const progressBars = [];

        // Initialize main image preview and progress bar
        const mainPreview = document.getElementById('mainpreview');
        const mainProgressBar = document.getElementById('mainprogressBar');
        const mainInput = document.getElementById('id_main');

        mainInput.addEventListener('change', function() {
          const file = this.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function() {
              mainPreview.src = reader.result;
            };
            reader.readAsDataURL(file);
          } else {
            mainPreview.src = "#";
          }
        });
    
        // Initialize preview elements and progress bars
        for (let i = 1; i <= numFiles; i++) {
          previews[i] = document.getElementById(`preview${i}`);
          progressBars[i] = document.getElementById(`progressBar${i}`);
    
          const input = document.getElementById(`id_picture${i}`);
          input.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
              const reader = new FileReader();
              reader.onload = function() {
                previews[i].src = reader.result;
              };
              reader.readAsDataURL(file);
            } else {
              previews[i].src = "#";
            }
          });
        }
    
        document.getElementById('uploadForm').addEventListener('submit', function(event) {
          event.preventDefault();
          const formData = new FormData(this);
          const xhr = new XMLHttpRequest();
          xhr.open('POST', this.action, true);
    
          xhr.upload.onprogress = function(event) {
            if (event.lengthComputable) {
              for (let i = 1; i <= numFiles; i++) {
                const percentComplete = (event.loaded / event.total) * 100;
                progressBars[i].style.width = percentComplete + '%';
                progressBars[i].setAttribute('aria-valuenow', percentComplete);
                progressBars[i].innerHTML = percentComplete.toFixed(0) + '%';
              }
            }
          };
    
          xhr.onload = function() {
            // Handle response
            if (xhr.status === 200) {
              console.log('Files uploaded successfully');
              // Optionally redirect or display success message
            } else {
              console.error('Error during upload:', xhr.statusText);
              // Handle errors
            }
          };
    
          xhr.onerror = function() {
            console.error('Error during upload:', xhr.statusText);
            // Handle errors
          };
    
          xhr.send(formData);
        });
      });


      document.getElementById('post').addEventListener('submit', function(event) {
        // Prevent the default form submission
        event.preventDefault();
    
        // Show the loading bar
        document.getElementById('loading-bar-container').style.display = 'block';
    
        // Submit the form programmatically
        this.submit();
      });
    </script>


  </body>

</html>
